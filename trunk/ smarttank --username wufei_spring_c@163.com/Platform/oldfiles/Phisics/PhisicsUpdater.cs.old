using System;
using System.Collections.Generic;
using System.Text;
using Platform.Logic.Registers;
using Platform.Logic.Collision;
using Platform.Logic.Phisics;
using System.Timers;


// 如果要将该类用于以后的程序中，
// 则需要改变Update的模式，需要通过BaseGame类（或GameManager类）的Update来获得更新触发。

namespace Platform.Logic.Phisics
{
    public class PhisicsUpdater
    {
        public ObjectRegister<IPhisical> phisicalregister;

        public PhisicsUpdater ()
        {
            phisicalregister = ObjectRegister<IPhisical>.getInstance();
            phisicalregister.removeAll();
        }

        public void Update ( float mimilliSeconds )
        {
            foreach (IPhisical obj in phisicalregister.Objects)
            {
                obj.prepareNextStatus( mimilliSeconds );
                obj.validate();
            }
        }

        // 
        //public void Validate ()
        //{
        //    foreach (IPhisicalObject obj in phisicalregister.Objects)
        //    {
        //        obj.validate();
        //    }
        //}
    }
}
